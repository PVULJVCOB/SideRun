/**
 * SideRun Animation System
 * 
 * Professional navigation with flying border effects
 * Responsive design with desktop-first approach and mobile enhancements
 * 
 * @version 2.0
 * @author SideRun Team
 * Copyright (c) 2025 Cedric Seidel
 */
/* Mobile-first navbar (touch optimized)
   - Default: compact hamburger visible for small screens
   - Larger screens: expanded links + desktop hover behavior
*/
.site-nav.siderun {
  position: fixed;
  top: env(safe-area-inset-top, 12px);
  right: env(safe-area-inset-right, 12px);
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px;
  border-radius: 999px;
  z-index: var(--sr-z-nav);
  font-size: 0.95rem;
  font-weight: var(--sr-font-weight-nav);
  background: rgba(255,255,255,0.72);
  backdrop-filter: blur(6px) saturate(120%);
  box-shadow: var(--sr-shadow-light);
}

/* Hamburger button: larger touch target for mobile */
.site-nav__button.siderun {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 52px;
  height: 52px;
  padding: 8px;
  border-radius: 12px;
  color: var(--color-text);
  background: transparent;
  border: 1px solid var(--sr-border-color);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

/* Keep svg size consistent */
.site-nav__button.siderun svg { width: 28px; height: 28px; display: block; }
.site-nav__button.siderun svg rect { fill: currentColor; }

/* Links container (hidden by default on mobile) */
.site-nav__links.siderun {
  display: none; /* toggled open via JS */
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

/* Individual link styles with large hit area */
.site-nav__link.siderun {
  color: var(--color-text);
  text-decoration: none;
  padding: 14px 18px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  line-height: 1;
  background: transparent;
}

/* When menu is expanded (mobile overlay) */
.site-nav.siderun.is-open .site-nav__links.siderun {
  display: flex;
}

/* Desktop: show inline links and preserve existing expand-on-hover behavior */
@media (min-width: 880px) {
  .site-nav.siderun {
    top: 2.7%;
    right: auto;
    left: 97%;
    transform: translateX(-100%);
    padding: 0;
    background: transparent;
    box-shadow: none;
  }
  .site-nav__button.siderun { width: auto; height: var(--sr-navbar-height); padding: 0 18px; border-radius: 0 var(--sr-radius-sm) var(--sr-radius-sm) 0; }
  .site-nav__links.siderun { display: flex; max-width: 0; overflow: hidden; opacity: 0; flex: 0 0 auto; height: var(--sr-navbar-height); transition: max-width var(--sr-transition-medium), opacity var(--sr-transition-fast); }
  .site-nav.siderun.is-expanded .site-nav__links.siderun, .site-nav.siderun:hover .site-nav__links.siderun { max-width: var(--sr-navbar-expanded-width); opacity: 1; }
  .site-nav__link.siderun { padding: 12px 18px; height: 100%; }
}

/* Accessibility: focus outline for keyboard users */
.site-nav__button.siderun:focus, .site-nav__link.siderun:focus { outline: 3px solid rgba(16,8,93,0.14); outline-offset: 2px; }

/* Overlay menu (full-screen mobile) â€” optional enhancement when `is-open` + `data-overlay` */
.site-nav.siderun[data-overlay="true"].is-open::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  z-index: calc(var(--sr-z-nav) - 1);
  backdrop-filter: blur(2px);
}
