/* Consolidated responsive rules extracted from component CSS files */

/* === siderun scaling === */
@media (max-width: 1024px) and (min-width: 769px) {
	.sr-container,
/* Hide the mobile/compact nav toggle when the page or a container is in fullscreen mode. */
/* Covers standard and vendor-prefixed fullscreen pseudo-classes. */
:fullscreen .site-nav-toggle,
:-webkit-full-screen .site-nav-toggle,
:-moz-full-screen .site-nav-toggle,
:-ms-fullscreen .site-nav-toggle,
::backdrop .site-nav-toggle {
	display: none !important;
	opacity: 0 !important;
	pointer-events: none !important;
}

/* Also hide if the toggle itself is made fullscreen (edge cases) */
.site-nav-toggle:fullscreen,
.site-nav-toggle:-webkit-full-screen,
.site-nav-toggle:-moz-full-screen {
	display: none !important;
}

	.siderun {
		--sr-scale: 0.9;
	}
}

@media (max-width: 768px) {
	.sr-container,
	.siderun {
		--sr-scale: 0.8;
	}
}

@media (prefers-reduced-motion: reduce) {
	.siderun-border,
	.sr-backdrop,
	.sr-wrapper {
		transition: none;
		animation: none;
	}
}

/* === grid and container scaling (main.css) === */
@media (min-width: 880px) {
	.sr-grid.two {
		grid-template-columns: repeat(2, minmax(0, 1fr));
		gap: 28px;
	}
	.sr-grid.three {
		grid-template-columns: repeat(3, minmax(0, 1fr));
		gap: 24px;
	}
}

@media (max-width: 880px) { .sr-container { --sr-scale: 0.9; } }
@media (max-width: 600px) { .sr-container { --sr-scale: 0.8; } }
@media (max-width: 420px) { .sr-container { --sr-scale: 0.7; } }

/* === hero reduced-motion === */
@media (prefers-reduced-motion: reduce) {
	.hero-parallax__layer { transform: none !important; }
	.hero__scroll-dot::after { animation: none; }
}

/* === scroll-effects reduced-motion === */
@media (prefers-reduced-motion: reduce) {
	.scroll-init { opacity: 1 !important; transform: none !important; transition: none !important; }
	[data-scroll*='parallax'] { transform: none !important; transition: none !important; will-change: auto !important; }
}

/* === navbar responsive overrides === */
@media (min-width: 1399px) {
	:root {
		--sr-viewport-padding: max(20px, env(safe-area-inset-top));
		--sr-navbar-height: 52px;
		--sr-logo-height: 52px;
		--sr-logo-min-width: 220px;
		--sr-font-size-nav: 22px;
		--sr-font-size-logo: 32px;
		--sr-scale: 1.1;
	}
}

@media (max-width: 1399px) and (min-width: 1025px) {
	:root {
		--sr-viewport-padding: max(20px, env(safe-area-inset-top));
		--sr-navbar-height: 52px;
		--sr-logo-height: 52px;
		--sr-logo-min-width: 220px;
		--sr-font-size-nav: 22px;
		--sr-font-size-logo: 32px;
		--sr-scale: 1.1;
	}
}

@media (max-width: 1024px) and (min-width: calc(768px + 1px)) {
	:root {
		--sr-viewport-padding: max(20px, env(safe-area-inset-top), env(safe-area-inset-right));
		--sr-navbar-height: 42px;
		--sr-logo-height: 42px;
		--sr-font-size-nav: 18px;
		--sr-font-size-logo: 26px;
		--sr-scale: 0.9;
	}
}

@media (max-width: 768px) {
	:root {
		--sr-viewport-padding: max(30px, env(safe-area-inset-top), env(safe-area-inset-right), env(safe-area-inset-bottom), env(safe-area-inset-left));
	}
	.site-nav.siderun,
	#logo.nav_button-left.siderun,
	.sr-navbar,
	.sr-logo,
	.centered-mobile-nav { display: none !important; }
}

/* === show toggle and hide desktop navbar at <=1400px (but keep mobile <768px rules) === */
/* By default the compact nav toggle is hidden. It should only appear when the
   viewport is at most 1400px wide. This prevents the toggle from ever showing
   in fullscreen or large-window modes. */

/* hide toggle by default */
.site-nav-toggle {
	display: none !important;
}

@media (max-width: 1400px) {
	/* keep the desktop nav present but off-screen so we can animate it in/out smoothly */
	.site-nav.siderun {
		/* positioned near the right edge; initially moved off-screen */
		position: fixed !important;
		top: calc(var(--sr-viewport-padding, 20px));
		right: 8px;
		left: auto !important;
		transform: translateX(110%);
		opacity: 0;
		visibility: hidden;
		pointer-events: none;
		display: flex !important;
		align-items: center;
		height: var(--sr-navbar-height);
		z-index: calc(var(--sr-z-content, 50) + 5);
		transition: transform 300ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease, visibility 0s linear 300ms;
	}
	/* show the toggle button for viewports <= 1400px */
	/* use !important to override the default hidden state */
	.site-nav-toggle {
 		position: fixed;
 		top: calc(var(--sr-viewport-padding, 20px));
 		right: 8px;
 		z-index: calc(var(--sr-z-content, 50) + 20);
		width: 44px;
		height: 44px;
		display: flex !important;
		align-items: center;
		justify-content: center;
		background: var(--color-cta, rgba(255,255,255,0.04));
		color: var(--color-text, #111);
		border-radius: 10px;
		border: none;
		cursor: pointer;
		-webkit-tap-highlight-color: transparent;
		transition: background-color var(--sr-transition-fast, 160ms), transform 160ms;
	}
	.site-nav-toggle:focus,
	.site-nav-toggle:hover { transform: translateY(-2px); background: var(--color-cta-hover, rgba(255,255,255,0.06)); }

	/* when hidden via hover from JS, fade the toggle out and disable pointer events so the nav beneath is reachable */
	.site-nav-toggle.is-hidden-by-hover {
		opacity: 0 !important;
		transform: translateY(-2px) !important;
		pointer-events: none !important;
		transition: opacity 160ms ease, transform 160ms ease;
	}

	/* When the toggle is hovered/focused, reveal the desktop nav visually as overlay (for pointer users) */
	.site-nav-toggle:hover + .site-nav.siderun,
	.site-nav-toggle:focus + .site-nav.siderun {
		transform: translateX(0) !important;
		opacity: 1 !important;
		visibility: visible !important;
		pointer-events: auto !important;
		right: 8px !important;
		left: auto !important;
		top: calc(var(--sr-viewport-padding, 20px));
		position: fixed !important;
		z-index: calc(var(--sr-z-content, 50) + 15) !important;
		transition-delay: 0s;
	}

	/* When JS toggles the nav via class, keep it visible (useful for touch) */
	.site-nav.siderun.is-shown-by-toggle {
		transform: translateX(0) !important;
		opacity: 1 !important;
		visibility: visible !important;
		pointer-events: auto !important;
		position: fixed !important;
		right: 8px !important;
		left: auto !important;
		top: calc(var(--sr-viewport-padding, 20px));
		z-index: calc(var(--sr-z-content, 50) + 15) !important;
		transition-delay: 0s;
	}

	/* Ensure the inner links expand overlay-style when shown */
	.site-nav.siderun.is-shown-by-toggle .site-nav__links.siderun,
	.site-nav.siderun.is-shown-by-toggle:hover .site-nav__links.siderun {
		max-width: var(--sr-navbar-expanded-width, 600px);
		opacity: 1;
	}
}

