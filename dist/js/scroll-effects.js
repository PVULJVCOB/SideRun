(()=>{(function(){let d=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function u(){if(d)return;let a={threshold:[0,.1],rootMargin:"0px 0px -100px 0px"},r=new IntersectionObserver(t=>{t.forEach(s=>{let e=s.target,o=e.getAttribute("data-scroll");if(s.isIntersecting){e.classList.add("visible"),e.classList.remove("scroll-init"),o&&e.classList.add(`scroll-${o}`);let i=e.querySelectorAll("[data-stagger-child]");if(i.length){let c=parseFloat(e.getAttribute("data-stagger-base")||"80");i.forEach((l,p)=>{l.style.transitionDelay=`${p*c}ms`})}e.hasAttribute("data-scroll-once")&&r.unobserve(e)}else e.hasAttribute("data-scroll-once")||(e.classList.remove("visible"),e.classList.add("scroll-init"),o&&e.classList.remove(`scroll-${o}`),o&&o.indexOf("parallax")!==-1&&(e.style.transform=""),e.querySelectorAll("[data-stagger-child]").forEach(i=>{i.style.transitionDelay=""}))})},a),n=document.querySelectorAll("[data-scroll]");n.forEach(t=>{t.closest&&t.closest("#hero")&&t.matches(".hero, .hero *"),(t.classList.contains("sr-container")||!!t.querySelector(".sr-container"))&&t.classList.add("scroll-transform-only"),r.observe(t),t.classList.add("scroll-init")});function h(t){let s=t.getBoundingClientRect();return s.bottom>0&&s.top<window.innerHeight}n.forEach(t=>{if(h(t)){let s=t.getAttribute("data-scroll");t.classList.add("visible"),t.classList.remove("scroll-init"),s&&t.classList.add(`scroll-${s}`)}})}function m(a,r){let n=r/window.innerHeight;switch(a){case"parallax-slow":return n*-30;case"parallax-medium":return n*-50;case"parallax-fast":return n*-90;default:return n*-40}}function f(){if(d)return;let a=!1;function r(){document.querySelectorAll('[data-scroll*="parallax"]').forEach(t=>{let s=t.getBoundingClientRect();if(s.bottom<=0||s.top>=window.innerHeight)return;let e=s.top+s.height/2,o=window.innerHeight/2,i=e-o,c=t.getAttribute("data-scroll");if(s.bottom<-240||s.top>window.innerHeight+240)return;let l=m(c,i);t.style.transform=`translate3d(0, ${l}px, 0)`}),a=!1}function n(){a||(a=!0,requestAnimationFrame(r))}window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),document.readyState==="complete"||document.readyState==="interactive"?r():document.addEventListener("DOMContentLoaded",r,{once:!0})}document.readyState==="complete"||document.readyState==="interactive"?(u(),f()):document.addEventListener("DOMContentLoaded",()=>{u(),f()})})();})();
//# sourceMappingURL=scroll-effects.js.map
